<!DOCTYPE html>
<html>
    <head>
        <title>Sun of Tuscany - Presentazione</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="author" href="https://plus.google.com/113412762172857898460"/>
        <link rel="stylesheet" href="skin/css/bootstrap.min.css" type="text/css">
        <link rel="stylesheet" href="skin/css/bootstrap-theme.min.css" type="text/css">
        <link rel="stylesheet" href="skin/css/presentationbootstrap.css" type="text/css">

        <script type="text/javascript" src="skin/js/greensock/TweenMax.min.js"></script>
        <script type="text/javascript" src="skin/js/jquery-1.9.1.min.js"></script>
        <script type="text/javascript" src="skin/js/jquery-ui-1.9.2.custom.min.js"></script>
        <script type="text/javascript" src="skin/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="skin/js/jquery.superscrollorama.js"></script>
        <script type="text/javascript" src="skin/js/jquery.backstretch.min.js"></script>

        <link href='http://fonts.googleapis.com/css?family=Engagement|Open+Sans:400italic,400,600,700' rel='stylesheet' type='text/css'>
        <script type="text/javascript">
            var $windowHeight = 800;
            var heightAdjust = 50;
            function findBootstrapEnvironment() {
                var envs = ['xs', 'sm', 'md', 'lg'];

                $el = $('<div>');
                $el.appendTo($('body'));

                for (var i = envs.length - 1; i >= 0; i--) {
                    var env = envs[i];

                    $el.addClass('hidden-'+env);
                    if ($el.is(':hidden')) {
                        $el.remove();
                        return env
                    }
                };
            }
            
            function changeDeviceClass(){
               $("body").attr("class","");
               $("body").addClass(findBootstrapEnvironment()+"-device");
            }
            
            function setHeightAndWidths(){
                windowHeight = $(window).innerHeight();
                windowWidth = $(window).innerWidth();
                //adeguo sfondi e pagine
                 $(".screenblock").css("height",windowHeight);
                 $(".back-container").css("height",windowHeight);
                 $(".page1").css("width",windowWidth);
                 $("#backgrounds").css("width",windowWidth);
                 //controllo che l'immagine non diventi più corta del blocco
                 if( windowWidth < 1600 ){
                     $(".backslide").width("1600px");
                     $("#homeimg").css("margin-left",(windowWidth-1600)/2);
                 }else{
                     $(".backslide").width("100%");
                 }
            }
            
            $(document).ready(function() {
                $("#block0").backstretch("skin/images/primaslide.jpg");
                $("#back1").backstretch("skin/images/castelloppinitida.jpg");
                $("#back2").backstretch("skin/images/terzaslide.jpg");
                $("#back3").backstretch("skin/images/vallecasentino.jpg");
                $("#back4").backstretch("skin/images/back1.jpg");
                
                changeDeviceClass();
                setHeightAndWidths();
                $(window).resize(function() {
                    changeDeviceClass();
                    setHeightAndWidths();
                });

                // This example adds a duration to the tweens so they are synced to the scroll position
                var controller = $.superscrollorama();

                // amount of scrolling over which the tween takes place (in pixels)
                var scrollDuration = 2000;
                /* tanto per non sentirsi scemi 
                 .addTween(target, tween, duration, offset, reverse)
                    target: scroll position (number) or element (string or object)
                    tween: a Greensock animation tween object
                    duration: scroll duration of tween in pixels (0 means autoplay)
                    offset: adjust the animation start point
                    reverse: disable reverse animation on up scrolling (optional)
                 * 
                 * */
                controller.addTween('#back-container1',new TimelineLite()
                    .append([
                        TweenMax.fromTo($('#back1'), 1,
                        {css: {top: 870}, immediateRender: true},
                        {css: {top: 250}})
                        ]),scrollDuration );
               controller.addTween('#back-container2',new TimelineLite()
                    .append([
                        TweenMax.fromTo($('#back2'), 1,
                        {css: {top: 870}, immediateRender: true},
                        {css: {top: 250}})
                        ]),scrollDuration );
               controller.addTween('#back-container3',new TimelineLite()
                    .append([
                        TweenMax.fromTo($('#back3'), 1,
                        {css: {top: 970}, immediateRender: true},
                        {css: {top: 350}})
                        ]),scrollDuration); 
               controller.addTween('#back-container4',new TimelineLite()
                    .append([
                        TweenMax.fromTo($('#back4'), 1,
                        {css: {top: 1070}, immediateRender: true},
                        {css: {top: 450}})
                        ]),scrollDuration );
            });

            function scrollToPage(pageNumber, elem) {
                $(".navbar-nav li").removeClass("active");
                $('body').animate({scrollTop: (pageNumber * $windowHeight)+heightAdjust}, 700, 'swing', function() {
                });
                $(elem).parent("li").addClass("active");
            }

        </script>

    </head>
    <body>   
        <div id="backgrounds">
            <div id="back-container1"><div class="back-container"  id="back1"></div></div>
            <div id="back-container2"><div class="back-container"  id="back2"></div></div>
            <div id="back-container3"><div class="back-container"  id="back3"></div></div>
            <div id="back-container4"><div class="back-container"  id="back4"></div></div>
        </div>
        <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="javascript:void(0)"  onclick="scrollToPage(0)">Sun of Tuscany</a>
                </div>
                <div class="collapse navbar-collapse">
                    <ul class="nav navbar-nav">
                        <li class="active"><a href="javascript:void(0)"  onclick="scrollToPage(0, this)">Home</a></li>
                        <li><a href="javascript:void(0)" onclick="scrollToPage(1, this)">Pag 1</a></li>
                        <li><a href="javascript:void(0)" onclick="scrollToPage(2, this)">Pag 2</a></li>
                        <li><a href="javascript:void(0)" onclick="scrollToPage(3, this)">Pag 3</a></li>
                    </ul>
                </div><!--/.nav-collapse -->
            </div>
        </div>

        <div id="main" class="main onepage-wrapper">
            
            
            <div id="block0"  class="page1 screenblock container-fluid">
                <div id="content0">
                    <!--img  alt="" id="homeimg" class="backslide" src="skin/images/primaslide.jpg" /-->
                    <div class="h1line col-xs-3 col-sm-offset-2 col-sm-2 col-m-offset-2 col-m-2 col-lg-offset-2 col-lg-2"></div>
                    <div class="col-xs-6 col-sm-4 col-m-4 col-lg-4"><h1>Sun of Tuscany</h1></div>
                    <div class="h1line col-xs-3 col-sm-2 col-m-2 col-lg-2"></div>
                    <div class="col-xs-12 col-sm-12 col-m-12 col-lg-12">
                        <a  href="javascript:void(0)" onclick="scrollToPage(1, this)" class="godown glyphicon glyphicon-chevron-down img-circle"></a>
                    </div>
                </div>
            </div>

            <div id="block1"  class="screenblock page2">
                <div class="content-block col-xs-12 col-sm-12 col-m-12">
                    <div class="col-xs-12 col-sm-5 col-sm-offset-1 col-m-5">
                        <h2>La nostra vallata</h2>
                        <p>Il Casentino una valle molto attiva con molte realtà produttive nel settore alimentare di qualità.</p> 
                    </div>
                    <div class="col-xs-0 col-sm-5 col-m-5">
                        <img class="img-rounded img-responsive" src="skin/images/casentino.jpg">
                    </div>
                    <div class="col-xs-12 col-sm-12 col-m-12">
                        <a  href="javascript:void(0)" onclick="scrollToPage(2, this)" class="godown glyphicon glyphicon-chevron-down img-circle"></a>
                    </div>
                </div>
            </div>

            <div id="block2"  class="screenblock page3">
                <div class="content-block">
                    <h2>La poca crescita</h2>
                    <p>Casentino una valle molto produttiva ma con poche infrastrutture che la penalizzano 
                        nei collegamenti e quindi nell’espansione commerciale.</p> 
                    <div class="col-xs-12 col-sm-12 col-m-12 col-lg-12">
                        <a  href="javascript:void(0)" onclick="scrollToPage(3, this)" class="godown glyphicon glyphicon-chevron-down img-circle"></a>
                    </div>
                </div>
            </div>

            <div id="block3"  class="screenblock page3">
                <div class="content-block">
                    
                    <div class="col-xs-0 col-sm-5 col-m-5">
                        <img style="margin-top:20px;" class="img-rounded img-responsive" src="skin/images/venditeecommerce.jpg">
                    </div>
                    <div class="col-xs-12 col-sm-5 col-sm-offset-1 col-m-5">
                        <h2>Commercio online</h2>
                        <p>Il commercio online è l’unico canale che non risente dei problemi nei collegamenti ed è un mercati in continua crescita e previsioni.</p>
                    </div>
                    <div class="col-xs-12 col-sm-12 col-m-12 col-lg-12">
                        <a  href="javascript:void(0)" onclick="scrollToPage(4, this)" class="godown glyphicon glyphicon-chevron-down img-circle"></a>
                    </div>
                </div>
            </div>
            
            <div id="block4"  class="screenblock page3">
                <div class="content-block">
                    <h2>Come lo faremo</h2>
                    <p>Lorem ipsum dolor sit amet,estibulum lorem sit amet, faucibus ultricies orci. Curabitur semper nec libero faucibus suscipit. estibulum enim at, adipiscing enim. Morbi suscipit imperdiet purus, in auctor lectus fermentum ac.</p>

                    <p>Nullam auctor, qEtiam sodales condimentum nisl, id vehicula tellus nibh at, dapibus mi. Maecenas tempus hendrerit dapibus. Donec dictum consectetur nulla, quis tincidunt metus.</p>

                    <p>Morbi eget orci vehicula,rdum. Maecenas consequat tristique pulvinar. Duis condimentum elementum feugiat. Praesent vitae auctor ipsum. Vivamus accumsan at nisl sed hendrerit. Aliquam erat volutpat. Vestibulum nec porttitor turpis, ut ornare lectus.</p>
                    <div class="col-xs-12 col-sm-12 col-m-12 col-lg-12">
                        <a  href="javascript:void(0)" onclick="scrollToPage(4, this)" class="godown glyphicon glyphicon-chevron-down img-circle"></a>
                    </div>
                </div>
            </div>
            
        </div>
    </body>
</html>
